.page {
    height: 100%;
    margin: 0 auto;
}

.main {
    margin: 0 auto;
    height: 100%;
    background-color: #eee9e9;
    &__radio_hidden {
        display: none;
    }


    &__wrapper {
        margin: 0 auto;
        display: flex;
        align-content: center;
        width: 90%;
        height: 100vh;
    }

    &__all {
        perspective-origin: 50% 50%;
        align-content: center;
        justify-content: center;
        vertical-align: middle;
        transform-style: preserve-3d;
        flex-direction: row;
        align-items: center;
        text-align: center;
        margin: 0 auto;
        display: flex;
        width: 100%;
        perspective: 500px;
        height: 100%;
    }
}

.card
{
    background: white;
    display: flex;
    align-content: center;
    &__img {
        width: 150px;
        height: 100px;
        object-fit: cover;
    }

    $amount_elements = 7

    for $id in (1..$amount_elements) {
        #radio{$id} ~ &_order_{$id} {
            box-shadow: 5px 5px 5px rgba(0,0,0,.1);
        }
    }

    for $id in (1..$amount_elements) {
        #radio{$id}:checked ~ &_order_{$id} {
            //transition-duration: 1s;
            background: white;
        }
    }

    set_delay($id) {
        if $id >= $min_delay {
            transition-delay: ($id - 1) * .1s;
            transition-duration: 1s;
        } else {
            transition-delay: .1s * ($amount_elements - $id);
            transition-duration: 1s;
        }
    }

    set_translation($id) {
        transform: translateX(0% + ($amount_elements - $id - $half_of_amount + 1)*100) translateZ($translate_z);
    }

    $half_of_amount = ($amount_elements + ($amount_elements % 2))/2
    $min_delay = 0s + $half_of_amount
    $translate_z = 200px

    for $id in (1..$amount_elements) {
        #radio{$id}:checked ~ &_order_{$id} {
            set_delay($id)
            set_translation($id)
        }
    }

    set_relative_movement($id, $other) {
        $relative_number = $other - $id
        if $relative_number == 0 {
        } else {
            if $relative_number < 0 {
                $value = (0% + $amount_elements + 2 - ($other + $id))*50
                #radio{$other}:checked ~ &_pos-about_num-{$other}-pos-right-{0 - $relative_number} {
                    transform: translateX($value) rotateY(-50deg);
                    set_delay($id, $other)
                    transition-duration: 1s;
                }
            } else {
                $value = (0% + $amount_elements - ($other + $id))*50
                #radio{$other}:checked ~ &_pos-about_num-{$other}-pos-left-{$relative_number} {
                    transform: translateX($value) rotateY(50deg);
                    set_delay($id, $other)
                    transition-duration: 1s;
                }
            }
        }
    }

    set_delay($id, $other) {
        if $other <= 4 {
            transition-delay: .1s * ($amount_elements - $id);
        } else {
            transition-delay: .1s * ($id - 1);
        }

    }

    for $id in (1..$amount_elements) {
        for $other in (1..$amount_elements) {
            set_relative_movement($id, $other)
        }
    }

}
